> 以下所有内容参考自https://www.bilibili.com/video/BV11g411V7Kf

- [1. 接口](#1-接口)
  - [1.1 接口的类型](#11-接口的类型)
- [2. 接口测试](#2-接口测试)
  - [2.1 接口测试原理](#21-接口测试原理)
  - [2.3 接口测试特点](#23-接口测试特点)
- [3. HTTP](#3-http)
  - [3.1 特点](#31-特点)
  - [3.2 URL](#32-url)
  - [3.3 HTTP请求](#33-http请求)
  - [3.4 HTTP响应](#34-http响应)
- [4. 接口风格](#4-接口风格)
- [5. 接口文档解析](#5-接口文档解析)
- [使用Fiddler发送请求](#使用fiddler发送请求)
- [6. 接口测试用例设计](#6-接口测试用例设计)
  - [6.1 接口测试的测试点](#61-接口测试的测试点)
## 1. 接口

> 系统、组件之间，数据传递的通道

### 1.1 接口的类型

- 按协议划分：http、tcp、ip
- 按语言划分：java、c++
- 按范围划分：系统之间的接口、程序（方法、模块）之间的接口

```python
#接口
def eat(result):
    print(f'小鸟吃{result}')
#使用接口
def bind():
    eat('apple')
bind()
```

## 2. 接口测试

> 校验传递的数据的正确性和逻辑依赖关系的正确性

### 2.1 接口测试原理

> 模拟客户端向**服务器**发送给请求，检查**服务器**返回给客户端的响应数据是否符合预期

### 2.3 接口测试特点

- 符合质量控制前移的理念
- 可以发现页面操作发现不了的问题
- 低成本高效益（一个底层接口bug导致上层多个接口bug）

## 3. HTTP

> 超文本传输协议，基于请求与响应模式（应用层）的协议

### 3.1 特点

1. 支持C/S模式
2. 简单快速
3. 灵活
4. 无连接
5. 无状态

### 3.2 URL

> 统一资源定位符

协议://域名（IP）:端口/资源路径?查询参数

- 查询参数：传递给资源路径对应的数据，用&分割

### 3.3 HTTP请求

> 客户端发送请求给服务器

**请求格式**

1. 请求行
   请求方法 URL 协议版本
2. 请求头
   key:value
3. 请求体
   位于请求头空行下方

**请求行**

请求方法：
- GET：查询
- POST：添加（常用于登录）
- PUT：修改
- DELETE：删除

**请求头**

常用：
- Content-Type：application/x-form-urlencoded 标识请求体数据类型（form 表单类型）
- User-Agent：Mozilla/5.0 请求发送端的浏览器类型

**请求体**

> 请求发送时携带的数据，数据类型content-type的值

- post、put有请求体
- get、delete没有请求体

### 3.4 HTTP响应

> 服务端针对客户端发送的HTTP请求回发响应数据

**响应格式**

1. 响应行
   协议版本 状态码 状态描述
2. 响应头
   key:value
3. 响应体
   位于响应头空行下方

**响应行**

状态码：
- 1xx:代表指示信息。表请求已经被接收，等待继续处理
- **2XX:代表请求成功被处理、接收。常见：200、201**
- 3Xx:重定向，待访问的资源，需求重新指定路径访问。
- **4XX:代表客户端错误。常见：404、403**
- 5xx:访问器端错误。

状态码描述：
200--OK
404--file not found

**响应头**

常用：
- Content-Type 标识响应体数据类型

**响应体**

- 数据类型受content-type值的影响
- 成功返回成功的信息
- 失败返回失败的信息

## 4. 接口风格
1. 传统风格接口
   > 对用户进行操作的相关接口，增删改查
   
   特点：
   - 请求方法只用get和post
   - URL不唯一，同一个操作可以对应不同的URL
   - 状态码使用单一，200

   ![传统风格接口](https://ailyun-gallery.oss-cn-hangzhou.aliyuncs.com/image/传统风格接口.png)

2. RESTful
   特点：
   - 每一个URL代表一种资源
   - 客户端通过四个HTTP动词（GET、POST、PUT、DELETE）对服务端资源进行操作，实现“表现层状态转换”
   - 接口之间传递的数据常用格式为json

   ![RESTful风格接口](https://ailyun-gallery.oss-cn-hangzhou.aliyuncs.com/image/RESTFul风格接口.png)

## 5. 接口文档解析

**登录**

- 请求方法：POST
- URL:http://ihrm-test.itheima.net/api/sys/login
- 请求头：Content-Type:application/.json
- 请求体：{"mobile":"13800000002”,"password'"."123456"}
- 响应状态码：200
  - 错误码：
    - 10000：操作成功！
    - 20001：用户名或密码错误
    - 99999:抱歉，系统繁忙，请稍后重试！

## 使用Fiddler发送请求

1. 点击fiddler右侧的composer编写请求
2. 上方选择请求类型，写入URL
3. 下面写入请求头
4. 下方写入请求体
5. 点击右上方的[execute]按钮发送请求

## 6. 接口测试用例设计

### 6.1 接口测试的测试点

1. 功能测试
   1. 单接口功能
   2. 业务场景功能
2. 性能测试
   1. 响应时长
   2. 吞吐量
   3. 并发数
   4. 服务器资源使用率
3. 安全测试
   1. 敏感数据是否加密
   2. SQL注入