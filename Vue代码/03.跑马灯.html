<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>跑马灯</title>
        <script src="./lib/vue-2.4.0.js"></script>
    </head>
    <body>
        <div id="app">
            <input type = "button" value = "浪起来" @click = "lang">
            <input type = "button" value = "低调"  @click="stop">
            
            <h4>{{msg}}</h4>
        </div>
        <script>
            var vm = new Vue({
                el: '#app',
                data: {
                    msg: '猥琐发育，别浪~~ !',
                    intervalId:null  //定义定时器id
                },
                methods: {
                    //lang:function () {
                    lang(){//ES6写法
                        //在vue实例中，如果想要获取data上的数据，或者想要调用methods中的方法，必须通过this.属性名 或
                        // this.方法名 来进行访问，这里的this就表示我们new出来的vm实例对象

                        // console.log(this.msg)
                        // //获取到头的第一个字符
                        // var start = this.msg.substring(0,1)
                        // // 获取到后面的字符
                        // var end = this.msg.substring(1)
                        // // 重新拼接得到的字符传值给 msg
                        // this.msg = end + start

                        if(this.intervalId != null) return;
                       // var _this=this
                        //setInterval(function () {
                        this.intervalId = setInterval(() => {//ES6写法
                            //获取到头的第一个字符
                            var start = this.msg.substring(0,1)//_this
                            // 获取到后面的字符
                            var end = this.msg.substring(1)//_this
                            // 重新拼接得到的字符传值给 msg
                            this.msg = end + start//_this
                        },400)//400毫秒
                        // vm实例会监听自身的data数据的改变，自动同步到页面
                    },
                    stop(){//停止定时器
                        clearInterval(this.intervalId)  //清除定时器，不为null
                        this.intervalId = null
                    }
                }
            })
        </script>
    </body>
</html>
